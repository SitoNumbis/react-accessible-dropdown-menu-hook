(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=function(e,t){var n=a.useState(!1),r=n[0],i=n[1],o=a.useRef(null),l=a.useRef(!0),c=a.useRef(!1),u=a.useRef(null),s=a.useMemo((function(){return Array.from({length:e},(function(){return a.createRef()}))}),[e]),m=function(e){var t;o.current=e,null===(t=s[e].current)||void 0===t||t.focus()};a.useEffect((function(){l.current?l.current=!1:r&&!(null==t?void 0:t.disableFocusFirstItemOnClick)?m(0):r||(c.current=!1)}),[r]),a.useEffect((function(){if(r){var e=function(e){setTimeout((function(){e.target instanceof Element&&(e.target.closest('[role="menu"]')instanceof Element||i(!1))}),10)};return setTimeout((function(){document.addEventListener("click",e)}),1),function(){return document.removeEventListener("click",e)}}}),[r]),a.useEffect((function(){var e=function(e){!r||"ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.preventDefault()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[r]);var d=function(e){if(function(e){return void 0!==e.key}(e)){var n=e.key;if(!["Enter"," ","Tab","ArrowDown","Escape"].includes(n))return;("Tab"===n||"ArrowDown"===n)&&c.current&&r&&(e.preventDefault(),m(0)),"Enter"!==n&&" "!==n||(e.preventDefault(),i(!0)),"Escape"===n&&(e.preventDefault(),i(!1))}else(null==t?void 0:t.disableFocusFirstItemOnClick)&&(c.current=!r),i(!r)},f=function(e){var t,n=e.key;if(["Tab","Shift","Enter","Escape","ArrowUp","ArrowDown"," "].includes(n)){var a=o.current;return"Escape"===n?(i(!1),void(null===(t=u.current)||void 0===t||t.focus())):"Tab"===n?void i(!1):"Enter"===n||" "===n?(e.currentTarget.href||e.currentTarget.click(),void i(!1)):(null!==a&&("ArrowUp"===n?a-=1:"ArrowDown"===n&&(a+=1),a>s.length-1?a=0:a<0&&(a=s.length-1)),void(null!==a&&m(a)))}if(/[a-zA-Z0-9./<>?;:"'`!@#$%^&*()\\[\]{}_+=|\\-~,]/.test(n)){var r=s.findIndex((function(e){var t,a,r,i,o,l;return(null===(a=null===(t=e.current)||void 0===t?void 0:t.innerText)||void 0===a?void 0:a.toLowerCase().startsWith(n.toLowerCase()))||(null===(i=null===(r=e.current)||void 0===r?void 0:r.textContent)||void 0===i?void 0:i.toLowerCase().startsWith(n.toLowerCase()))||(null===(l=null===(o=e.current)||void 0===o?void 0:o.getAttribute("aria-label"))||void 0===l?void 0:l.toLowerCase().startsWith(n.toLowerCase()))}));-1!==r&&m(r)}};return{buttonProps:{onKeyDown:d,onClick:d,tabIndex:0,ref:u,role:"button","aria-haspopup":!0,"aria-expanded":r},itemProps:Array.from({length:e},(function(e,t){return{onKeyDown:f,tabIndex:-1,role:"menuitem",ref:s[t]}})),isOpen:r,setIsOpen:i,moveFocus:m}}},81:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),i=n.n(r),o=n(89),l=n(97),c=n(58),u=n.n(c),s=n(134),m=n.n(s),d=n(135),f=n(140),h=n(141);t.default=function(){var e=m()(3),t=e.buttonProps,n=e.itemProps,r=e.isOpen;return i.a.createElement(l.a,{title:"Demo",description:"Easily validate CSS using W3C\u2019s public CSS validator service"},i.a.createElement("header",{className:Object(o.a)("hero hero--primary",u.a.heroBanner)},i.a.createElement("div",{className:"container"},i.a.createElement("h1",{className:"hero__title"},"Demo"))),i.a.createElement("main",null,i.a.createElement("section",{className:u.a.features},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col col--12"},i.a.createElement("button",Object(a.a)({},t,{type:"button",className:"demo-button"}),i.a.createElement("span",null,"Try me!"),i.a.createElement(d.a,{icon:f.a})),i.a.createElement("div",{className:"demo-menu "+(r?"visible":""),role:"menu"},i.a.createElement("a",Object(a.a)({},n[0],{href:"https://github.com/sparksuite/react-accessible-dropdown-menu-hook",id:"menu-item-1"}),i.a.createElement(d.a,{icon:h.a,fixedWidth:!0}),"View on GitHub"),i.a.createElement("a",Object(a.a)({},n[1],{href:"https://www.npmjs.com/package/react-accessible-dropdown-menu-hook",id:"menu-item-2"}),i.a.createElement(d.a,{icon:h.b,fixedWidth:!0}),"View on npm"),i.a.createElement("a",Object(a.a)({},n[2],{onClick:function(){return alert("Click!")},id:"menu-item-3"}),i.a.createElement(d.a,{icon:f.b,fixedWidth:!0}),"Item with click handler")))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col col--12"},i.a.createElement("ul",{className:"behavior"},i.a.createElement("li",null,"The menu can be revealed by clicking the button, or by focusing the button and pressing enter / space"),i.a.createElement("li",null,"When the menu is revealed, the first menu item is automatically focused"),i.a.createElement("li",null,i.a.createElement("em",null,"Once focus is in the menu\u2026"),i.a.createElement("ul",null,i.a.createElement("li",null,"The up / down arrow keys allow for navigation through the menu items (including wrapping from first to last and vice versa)"),i.a.createElement("li",null,"Pressing tab will close the menu and move the focus to the next focusable element"),i.a.createElement("li",null,"Pressing shift-tab will close the menu and move the focus to the previous focusable element"),i.a.createElement("li",null,"Pressing escape will close the menu and return the focus to the button"),i.a.createElement("li",null,"Pressing enter or space will activate that item and close the menu (whether it\u2019s a link or has a click handler attached)"),i.a.createElement("li",null,"Pressing any other character will move to the first menu item that starts with that character, if there is not a matching item, focus remains the same"))))))))))}}}]);